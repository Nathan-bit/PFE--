<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register</title>
  <!-- MDB CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <style>
    /* Custom CSS to center the container */
    html,
    body {
      height: 100%;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      max-width: 400px;
    }

    /* Custom CSS for eye icon */
    .eye-icon {
      cursor: pointer;
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
    }
  </style>
</head>

<body>
  <div class="container">
    <% if (messages && messages.error) { %>
      <div class="alert alert-danger"><%= messages.error %></div>
    <% } %>
   <!--  <form action="/connection/register"  method="POST" > -->
    <form  action="/connection/register" method="POST">

      <div class="text-center">
        <h3>Inscription</h3>
      </div>
      <div class="form-outline mb-4">
        <input type="text" id="registerName" class="form-control" name="nom" required />
        <label class="form-label" for="registerName">Name</label>
      </div>
    
      <!-- Username input -->
      <div class="form-outline mb-4">
        <input type="text" id="registerUsername" class="form-control" name="prenom" required/>
        <label class="form-label" for="registerUsername">Username</label>
      </div>
    
      <!-- Email input -->
      <div class="form-outline mb-4">
        <input type="email" id="registerEmail" class="form-control" name="email" required/>
        <label class="form-label" for="registerEmail">Email</label>
      </div>
                 
      <!-- Password input -->
      <div class="form-outline position-relative mb-4">
        <input type="password" id="registerPassword" class="form-control" name="password" required/>
        <label class="form-label" for="registerPassword">Password</label>
        <!-- Eye icon to show/hide password -->
        <i class="fas fa-eye eye-icon" onclick="togglePasswordVisibility('registerPassword')"></i>
      </div>
    
      <!-- Repeat Password input -->
      <div class="form-outline position-relative mb-4">
        <input type="password" id="registerRepeatPassword" class="form-control" name="repeatPassword" required/>
        <label class="form-label" for="registerRepeatPassword">Repeat password</label>
        <!-- Eye icon to show/hide password -->
        <i class="fas fa-eye eye-icon" onclick="togglePasswordVisibility('registerRepeatPassword')"></i>
      </div>
    
      <!-- Checkbox -->
      <div class="form-check d-flex justify-content-center mb-4">
        <input class="form-check-input me-2" type="checkbox" value="" id="registerCheck" checked aria-describedby="registerCheckHelpText" required/>
        <label class="form-check-label" for="registerCheck">
          I have read and agree to the terms
        </label>
      </div>
      <!-- Submit button -->
     <!--  <button type="submit" class="btn btn-primary btn-block mb-3"  >Register</button> -->
     <button id="submitButton" type="submit" class="btn btn-primary btn-block mb-3" >Register</button>

    
      <!-- Already has account message -->
      <div class="text-center">
        <p>Already have an account ? <a href="login">Login</a></p>
      </div>
    </form>
    
  </div>

  <!-- MDB JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.js"></script>
  <script>
    function togglePasswordVisibility(inputId) {
      var input = document.getElementById(inputId);
      input.type = input.type === 'password' ? 'text' : 'password';
    }
  </script>

<script>

  function submitForm(event) {
    event.preventDefault(); // Prevent the default form submission behavior
    
    // Log form data to the console
    var formData = {
      name: document.getElementById("registerName").value,
      username: document.getElementById("registerUsername").value,
      email: document.getElementById("registerEmail").value,
      password: document.getElementById("registerPassword").value,
     // repeatPassword: document.getElementById("registerRepeatPassword").value,
    //  termsAgreed: document.getElementById("registerCheck").checked
    };
    console.log(formData);

    // Here you can add code to send the form data to the backend using fetch or XMLHttpRequest
    // For example:
/* 
    fetch('/connection/register', {
      method: 'POST',
      body: JSON.stringify(formData),
      headers: {
        'Content-Type': 'application/json'
      }
    })
    .then(response => {
      if (response.ok) {
        // Handle successful submission
      } else {
        // Handle submission error
      }
    })
    .catch(error => {
      // Handle network error
    });
     */
  }
</script>

</body>

</html>
